<div class="setting-bar" *ngIf="result.type === datasetType.TABLE">
  <div class="visualization-selector">
    <nz-radio-group [(ngModel)]="config?.graph.mode" (ngModelChange)="switchMode($event)" nzButtonStyle="solid">
      <label *ngFor="let item of visualizations"
             nz-radio-button
             [nz-tooltip]="item.name"
             [nzValue]="item.id">
        <i nz-icon [nzType]="item.icon"></i>
      </label>
    </nz-radio-group>
  </div>

  <nz-dropdown-button class="export-dropdown" (nzClick)="exportFile('csv')">
    <i nz-icon nzType="download" nz-tooltip="Download Data as CSV"></i>
    <ul nz-menu>
      <li nz-menu-item (click)="exportFile('csv')">CSV</li>
      <li nz-menu-item (click)="exportFile('tsv')">TSV</li>
    </ul>
  </nz-dropdown-button>

  <a class="setting-trigger" tabindex="-1" (click)="switchSetting()">
    Setting
    <i
      nz-icon
      nzType="caret-down"
      [nzRotate]="config?.graph.optionOpen ? 180 : 0"
      class="setting-icon"
      nz-dropdown
    ></i>
  </a>
</div>
<div #graphEle zeppelinRectResize (resize)="onResize($event)" [currentCol]="currentCol">
  <zeppelin-rect-resize-handle></zeppelin-rect-resize-handle>
  <ng-template cdkPortalOutlet></ng-template>
  <ng-container [ngSwitch]="result?.type">
    <div *ngSwitchCase="datasetType.HTML" zeppelinMathJax class="inner-html" [innerHTML]="innerHTML"></div>
    <div *ngSwitchCase="datasetType.TEXT" class="text-plain"><pre [innerHTML]="plainText"></pre></div>
    <div *ngSwitchCase="datasetType.IMG" class="img"><img [src]="imgData" alt="img"></div>
  </ng-container>
  <div *ngIf="angularComponent">
    <ng-container *ngComponentOutlet="angularComponent.component;ngModuleFactory: angularComponent.moduleFactory;injector: injector"></ng-container>
  </div>
</div>
